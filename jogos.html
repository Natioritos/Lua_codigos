<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8">
  <title>Jogos | Level Up Academy</title>
  <link rel="stylesheet" href="jogos.css">
  <link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap" rel="stylesheet">
  <style>
    .game-button {
      display: block;
      margin: 1rem auto;
      padding: 20px 15px;
      font-family: 'Press Start 2P', monospace;
      font-size: 15px;
      text-decoration: none;
      border: 5px solid;
      cursor: pointer;
      box-shadow: 0 0 0 4px black;
      image-rendering: pixelated;
      transition: transform 0.2s ease, box-shadow 0.2s ease;
      text-align: center;
    }

    .game-button:hover {
      transform: scale(1.04);
      box-shadow: 0 0 0 4px #fff, 0 0 9px 9px rgba(255, 255, 255, 0.3);
    }

    .caca-palavras {
      background-color: #00bcd4;
      color: #fff;
      border-color: #008ba3;
    }

    .caca-palavras:hover {
      background-color: #0097a7;
    }

    .memoria {
      background-color: #7e57c2;
      color: #fff;
      border-color: #5e35b1;
    }

    .memoria:hover {
      background-color: #5e35b1;
    }

    .fatos {
      background-color: #ff7043;
      color: #fff;
      border-color: #d84315;
    }

    .fatos:hover {
      background-color: #bf360c;
    }

    .double {
      background-color: #4caf50;
      color: #fff;
      border-color: #2e7d32;
    }

    .double:hover {
      background-color: #1b5e20;
    }
  </style>
</head>

<body>

  <nav class="menu-principal">
    <ul>
      <li><a href="LUA.html">Início</a></li>
      <li><a href="jogos.html">Jogos</a></li>
      <li><a href="sobre.html">Sobre o Projeto</a></li>
    </ul>
  </nav>

  <header>
    <h1>Jogos da Level Up Academy</h1>
    <div class="level-bar">
      <span>Nível: <strong>1</strong></span>
      <div class="xp-bar">
        <div class="xp-fill" style="width: 35%;"></div>
      </div>
      <span>XP: 100 / 1000</span>
    </div>
  </header>

  <button onclick="ganharXP()" class="xp-btn">Ganhar XP</button>

  <!-- PERFIL FLUTUANTE -->
  <div class="perfil-hover">
    <img src="avatar.png" alt="Avatar do usuário" class="avatar-icone">
    <div class="perfil-info">
      <strong>Guilherme</strong>
      <a href="perfil.html">Meu Perfil</a>
      <a href="config.html">Configurações</a>
      <a href="sair.html">Sair</a>
    </div>
  </div>

  <script>
    let xpAtual = 100;
    let xpMaximo = 1000;
    let nivel = 1;

    function atualizarXP() {
      const xpBarra = document.querySelector('.xp-fill');
      const xpTexto = document.querySelector('.level-bar span:last-child');
      const nivelTexto = document.querySelector('.level-bar span strong');

      const progresso = (xpAtual / xpMaximo) * 100;
      xpBarra.style.width = progresso + '%';
      xpTexto.textContent = `XP: ${xpAtual} / ${xpMaximo}`;
      nivelTexto.textContent = nivel;
    }

    function ganharXP() {
      if (nivel >= 20) return;

      xpAtual += 50;
      if (xpAtual >= xpMaximo) {
        xpAtual = xpAtual - xpMaximo;
        nivel++;
      }
      atualizarXP();
    }

    atualizarXP(); // inicializa
  </script>

  <main class="container">
    <section class="game">
      <a href="caca-palavras.html" class="game-button caca-palavras">
        Jogar Caça-Palavras
      </a>
    </section>

    <section class="game">
      <a href="jogo-memoria.html" class="game-button memoria">
        Jogar Jogo da Memória
      </a>
    </section>

    <section class="game">
      <a href="fatos-historicos.html" class="game-button fatos">
        Jogar Fatos Históricos
      </a>
    </section>

    <section class="game">
      <a href="jogo-double.html" class="game-button double">
        Jogar double programação
      </a>
    </section>

    <section class="game">
      <h2>Os 4 Elementos</h2>
      <p>Desafie seus conhecimentos sobre água, fogo, terra e ar. Participe de um quiz interativo e seja o mais rápido a responder corretamente!</p>
    </section>

    <section class="game">
      <h2>Jogo da Dedução</h2>
      <p>Use lógica e raciocínio para resolver enigmas com base em pistas. Um jogo cheio de mistério e ideal para quem ama desafios inteligentes.</p>
    </section>
  </main>

  <!-- Áudio do clique -->
  <audio id="clickSound" src="star.mp3" preload="auto" playsinline></audio>

  <!-- Script do som nos botões/links -->
  <script>
    (function() {
      const clickSound = document.getElementById('clickSound');
      const links = document.querySelectorAll('a, .game-button, .xp-btn');

      function playClick() {
        try {
          clickSound.currentTime = 0;
          const p = clickSound.play();
          if (p && typeof p.catch === 'function') {
            p.catch(err => console.warn('Falha ao tocar som:', err));
          }
        } catch(e) {
          console.warn('Erro ao tocar som:', e);
        }
      }

      links.forEach(link => {
        // Toca som ao pressionar
        link.addEventListener('pointerdown', playClick);

        // Garante que o som toque antes de navegar
        link.addEventListener('click', function(e) {
          const href = this.getAttribute('href');
          const abreOutraPagina = href && href !== '#';

          if (abreOutraPagina) {
            e.preventDefault();
            playClick();
            setTimeout(() => {
              window.location.href = href;
            }, 150); // 150ms para ouvir o som
          } else {
            playClick();
          }
        });
      });
    })();
  </script>
</body>
</html>